package ru.mail.polis.homework.processor;

/**
 * –ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Ç–µ–∫—Å—Ç–∞, –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ —ç—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Ñ–µ–π—Å–∞ –¥–æ–ª–∂–Ω—ã –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–µ–±–µ –≤—Å—é –ª–æ–≥–∏–∫—É
 * –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞.
 * –ù–∏–∂–µ –Ω–∞–¥–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ (—Ç–æ —á—Ç–æ –æ–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å,
 * —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ –ø—Ä–∏–µ–º –û–û–ü, –≥–¥–µ –Ω–∞–º –Ω–µ –≤–∞–∂–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –∞ –≤–∞–∂–µ–Ω —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç,
 * —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ —É–º–µ–µ—Ç –∫–∞–∫-—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–µ–∫—Å—Ç).
 *
 * –°–∞–º–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –º–Ω–µ –Ω—É–∂–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤, —á—Ç–æ –±—ã –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (–∫–æ—Ç–æ—Ä—ã–µ –≤—ã –Ω–∞–ø–∏—à–∏—Ç–µ)
 * —è —Å–º–æ–≥ "—Å—ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å" –∏—Ö —Å–æ–∑–¥–∞–Ω–∏–µ.
 *
 * –ö–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ 2 –±–∞–ª–ª–∞. –?—Ç–æ–≥–æ 8
 */
public interface TextProcessor {
    final ProcessingStage stage = null;

    String processText(String text);

    default public ProcessingStage getStage() {
        return stage;
    }
    /**
     * –°—Ö–ª–æ–ø—ã–≤–∞–µ—Ç –≤—Å–µ –ø—É—Å—Ç—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –æ–¥–∏–Ω –ø—Ä–æ–±–µ–ª.
     * –ë–æ–ª–µ–µ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ, –∑–∞–º–µ–Ω–∏—Ç—å –∫–∞–∂–¥—É—é –ø–æ–¥—Å—Ç—Ä–æ–∫—É, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â—É—é —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é \s+ –Ω–∞ 1 –ø—Ä–æ–±–µ–ª.
     *
     * –°—Ç–∞–¥–∏—è: –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥
     */
    static TextProcessor squashWhiteSpacesProcessor() {
        return new SquashWhiteSpacesProcessor();
    }

    /**
     * –ù–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—É—é –ø–æ–¥—Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä–∞—è —É–¥–æ–≤–ª–µ—Ç–≤—Ä–æ—Ä—è–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é regex, –∏ –∑–∞–º–µ–Ω—è–µ—Ç –µ–µ –Ω–∞ –ø–æ–¥—Å—Ç—Ä–æ–∫—É replacement
     * –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
     *
     * –°—Ç–∞–¥–∏—è: –ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥
     */
    static TextProcessor replaceFirstProcessor(String regex, String replacement) {
        return new ReplaceFirstProcessor(regex, replacement);
    }

    /**
     * –î–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–µ maxLength —Å–∏–º–≤–æ–ª–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.
     * –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –∫–æ—Ä–æ—á–µ, —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å
     *
     * –°—Ç–∞–¥–∏—è: –ø–æ—Å—Ç–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥
     *
     * @param maxLength –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ
     */
    static TextProcessor trimProcessor(int maxLength) {
        return new TrimProcessor(maxLength);
    }

    /**
     * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–º–µ–Ω—è–µ—Ç –≤—Å–µ —Å–∏–º–≤–æ–ª—ã –Ω–∞ –∑–∞–≥–ª–∞–≤–Ω—ã–µ
     *
     * –°—Ç–∞–¥–∏—è: –ø–æ—Å—Ç–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥
     */
    static TextProcessor upperCaseProcessor() {
        return new UpperCaseProcessor();
    }
}
